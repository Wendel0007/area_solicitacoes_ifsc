{% extends 'dashboard/auth/base.html' %}
{% load static %}
{% block title %}Login - IFSC{% endblock title %}

{% block conteudo %}
<div class="container mt-2 pt-2 mt-lg-3 pt-lg-3">
    <div class="row">
        <div class="col-md-6 mx-auto mt-3 shadow p-0 p-md-5">
            
                <div class="text-center mb-3">
                    <img class="img-fluid" width="150px" src="{% static 'painel_controle/img/logo_ifsc.png' %}" />
                </div>
                <h6 class="fw-bold text-center">Informe seus dados cadastrais</h6>

                <form class="row" action="{% url 'cadastro_action' %}" method="POST" enctype='multipart/form-data'>
                    {% csrf_token %}
                    <div class="col-12 col-lg-12">
                        <div class="form-floating mb-3">
                            <input class="form-control" type="text" required name="nome_completo" id="nome_completo" placeholder="Seu nome completo">
                            <label for="nome_completo" class="form-label">Seu nome completo</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating mb-3">
                            <input class="form-control" type="text" pattern="[0-9]*" title="Informe o número de CPF" required minlength="11" maxlength="11" name="cpf" id="cpf" placeholder="cpf">
                            <label for="cpf" class="form-label">Seu CPF</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating mb-3">
                            <input class="form-control" type="text" pattern="[0-9]*" title="Informe o número de Matricula" required minlength="12" maxlength="12" name="matricula" id="matricula" placeholder="matricula">
                            <label for="matricula" class="form-label">Sua matricula</label>
                        </div>
                    </div>
                    <div class="col-12 col-lg-12">
                        <div class="form-floating mb-3">
                            <input class="form-control" type="text" required pattern="[0-9]*" minlength="11" maxlength="11" name="numero_contato" id="numero_contato" placeholder="Seu Número de contato (WhatsApp)">
                            <label for="numero_contato" class="form-label">Seu Número de contato (WhatsApp)</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating mb-3">
                            <input class="form-control" type="text" required name="email_inicial" id="email_inicial" placeholder="email_inicial">
                            <label for="email_inicial" class="form-label">Seu email</label>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-floating mb-3">
                            <select class="form-select" name="dominio" id="dominio" aria-label="Dominio Email" required>
                                <option value="@aluno.ifsc.edu.br">@aluno.ifsc.edu.br</option>
                                <option value="@ifsc.edu.br">@ifsc.edu.br</option>
                              </select>
                            <label for="dominio">Dominio</label>
                        </div>
                    </div>

                    <div class="col-12 col-lg-12">
                        <div class="form-floating mb-3">
                            <select class="form-select" id="curso" required name="curso" aria-label="Floating label select example">
                              <option disabled selected>Selecione seu curso</option>
                              {% if cursos %}
                                {% for curso in cursos %}
                                    <option value="{{curso.id}}">{{curso.tipo_curso}} - {{curso.nome_completo}}</option>
                                {% endfor %}
                              {% endif %}
                            </select>
                            <label for="curso">Curso</label>
                        </div>
                    </div>

                    <h6 class="fw-bold text-center">Cadastro de acesso</h6>

                    <div class="col-12 col-lg-12">
                        <div class="form-floating mb-3">
                            <input class="form-control" type="text" required name="username" id="username" placeholder="Usuário" oninput="this.value = this.value.toLowerCase();">
                            <label for="username" class="form-label">Seu usuário</label>
                        </div>
                    </div>
                    <div class="col-12 col-lg-12">
                        <div class="form-floating mb-3">
                            <input class="form-control" type="password" required name="password1" id="password1" placeholder="Senha">
                            <label for="password1" class="form-label">Seu senha</label>
                        </div>
                    </div>
                    <div class="col-12 col-lg-12">
                        <div class="form-floating mb-3">
                            <input class="form-control" type="password" required name="password2" id="password2" placeholder="Repida a senha" >
                            <label for="password2" class="form-label">Repita sua senha</label>
                        </div>
                    </div>

                    <div class="d-grid gap-2 text-center mt-3 mb-3">
                        <button type="submit" class="btn btn-dark btn-block button_main">Cadastrar</button>
                        <a class="btn btn-outline-secondary btn-block" href="https://www.ifsc.edu.br/web/campus-cacador">Voltar ao site</a>
                        <a class="link-dark link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover" href="{% url 'login_form' %}">Já tem acesso?</a>
                    </div>
                </form>

        </div>
    </div>
</div>
{% endblock conteudo %}